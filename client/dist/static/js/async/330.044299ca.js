"use strict";(self.webpackChunk_trustify_ui_client=self.webpackChunk_trustify_ui_client||[]).push([["330"],{32947:function(e,a,n){n.d(a,{A0:()=>f,V4:()=>x,W:()=>g,nE:()=>j});var l=n(91566),r=n(839),t=n(73657),s=n(20644),o=n(89502),i=n(7596),d=n(1811),c=n(24917),p=n(4720),u=n(54178),h=n(37106),m=n(34313);let x={unknown:{name:"Unknown",color:d.P,progressProps:{variant:void 0},icon:l.M$},none:{name:"None",color:c.E,progressProps:{variant:void 0},icon:r.f6},low:{name:"Low",color:p.c,progressProps:{variant:void 0},icon:t._$},medium:{name:"Medium",color:u.L,progressProps:{variant:"warning"},icon:s.zI},high:{name:"High",color:h.H,progressProps:{variant:"danger"},icon:o.E2},critical:{name:"Critical",color:m.J,progressProps:{variant:"danger"},icon:i.ki}},y=e=>{switch(e){case"unknown":return 1;case"none":return 2;case"low":return 3;case"medium":return 4;case"high":return 5;case"critical":return 6;default:return 0}};function f(e){return(a,n)=>y(e(a))-y(e(n))}let g=e=>{let{key:a,value:n}=e;return`${n?`${a}=${n}`:`${a}`}`},j=e=>{let[a,n]=e.split("=");return{key:a,value:n??""}}},7615:function(e,a,n){n.d(a,{g:()=>l});let l=e=>e??"unknown"},87017:function(e,a,n){n.d(a,{Co:()=>p,Cu:()=>d,Hb:()=>c});var l=n(70233),r=n(74502);n(41947);let t="/api",s=`${t}/v2/advisory`,o=`${t}/v2/sbom`,i=e=>{let a="application/json";return e.name.endsWith(".bz2")&&(a="application/json+bzip2"),a},d=(e,a)=>{let n=e.get(r.TB);return l.Z.post(`${s}`,n,{...a,headers:{"Content-Type":i(n)}})},c=(e,a)=>{let n=e.get(r.TB);return l.Z.post(`${o}`,n,{...a,headers:{"Content-Type":i(n)}})},p=e=>l.Z.get(`${o}/${e}/license-export`,{responseType:"arraybuffer",headers:{Accept:"text/plain",responseType:"blob"}})},24502:function(e,a,n){n.d(a,{M:()=>j});var l=n(24246),r=n(27378),t=n(27317),s=n(93095),o=n(54816),i=n(68802),d=n(31757),c=n(74607),p=n(70400),u=n(51088),h=n(58730),m=n(17528),x=n(63706),y=n(32947),f=n(40165);let g=e=>{let a=(0,y.W)(e);return{id:a,name:a}},j=e=>{let{title:a,value:n,isDisabled:j,onSave:b,onClose:v,options:w,onInputChange:T}=e,[C,k]=r.useState(Object.entries(n).map(e=>{let[a,n]=e;return g({key:a,value:n})}));return(0,l.jsxs)(t.K,{hasGutter:!0,children:[(0,l.jsx)(s.v,{children:"Labels help you organize and select resources. Adding labels below will let you query for objects that have similar, overlapping or dissimilar labels."}),(0,l.jsx)(s.v,{children:(0,l.jsx)(o.c,{label:(0,l.jsx)(i.V,{component:"h4",children:a}),children:(0,l.jsx)(d.Z,{children:(0,l.jsx)(c.e,{style:{padding:10,minHeight:10},defaultIsOpen:!0,numLabels:10,children:C.sort((e,a)=>(0,x.KF)(e.name).localeCompare((0,x.KF)(a.name))).map((e,a)=>(0,l.jsx)(p._,{color:"blue",onClose:()=>{let e=[...C];e.splice(a,1),k(e)},children:(0,x.KF)(e.labelName||e.name)},e.id))})})})}),(0,l.jsx)(s.v,{children:(0,l.jsxs)(u.l,{onSubmit:e=>e.preventDefault(),children:[(0,l.jsx)(f.F,{selections:C,options:w.map(e=>{let{key:a,value:n}=e;return g({key:a,value:n})}),onChange:k,placeholderText:"Add label",searchInputAriaLabel:"labels-select-toggle",onSearchChange:T,onCreateNewOption:e=>({id:e,name:e}),validateNewOption:e=>!!e&&e.trim().length>0&&/^(?!.*\\)(?!\s*\\)(?!\s*=)[^=\\\s][^=\\]*\s*=?\s*[^=\\]+$/.test(e),filterBeforeOnChange:(e,a)=>{let n=(0,y.nE)((0,x.KF)(a.name));return e.filter(e=>(0,y.nE)((0,x.KF)(e.name)).key!==n.key)}}),(0,l.jsxs)(h.W,{children:[(0,l.jsx)(m.zx,{type:"button",id:"submit","aria-label":"submit",variant:m.Wu.primary,isDisabled:j,onClick:()=>{b(C.map(e=>(0,y.nE)((0,x.KF)(e.name))).reduce((e,a)=>{let{key:n,value:l}=a;return e[n]=l??"",e},{}))},children:"Save"}),(0,l.jsx)(m.zx,{type:"button",id:"cancel","aria-label":"cancel",variant:m.Wu.link,isDisabled:j,onClick:v,children:"Cancel"})]})]})})]})}},73827:function(e,a,n){n.d(a,{C:()=>i});var l=n(24246),r=n(74607),t=n(70400),s=n(85295),o=n(32947);let i=e=>{let{value:a,defaultIsOpen:n,onClick:i}=e;return(0,l.jsx)(r.e,{defaultIsOpen:n,numLabels:5,children:Object.entries(a).sort((e,a)=>{let[n]=e,[l]=a;return l.localeCompare(n)}).map(e=>{let[a,n]=e;return(0,l.jsx)(t._,{color:"blue",onClick:i?()=>i({key:a,value:n}):void 0,children:(0,l.jsx)(s.k,{content:(0,o.W)({key:a,value:n})})},a)})})}},57524:function(e,a,n){n.d(a,{o:()=>d});var l=n(24246),r=n(34747),t=n(46770),s=n(64766),o=n(2499),i=n(32947);let d=e=>{let{value:a,score:n,showScore:d,showLabel:c}=e,p=i.V4[a],u=p.name,h=p.icon;return(0,l.jsxs)(r.k,{spaceItems:{default:"spaceItemsXs"},alignItems:{default:"alignItemsCenter"},flexWrap:{default:"nowrap"},style:{whiteSpace:"nowrap"},children:[(0,l.jsx)(t.B,{children:c?(0,l.jsx)(s.J,{children:(0,l.jsx)(h,{color:p.color.value})}):(0,l.jsx)(o.u,{content:u,children:(0,l.jsx)(s.J,{children:(0,l.jsx)(h,{color:p.color.value})})})}),c&&(0,l.jsx)(t.B,{children:u}),d&&null!==n&&(0,l.jsxs)(t.B,{children:["(",Math.round(10*n)/10,")"]})]})}},3804:function(e,a,n){n.d(a,{p:()=>t});var l=n(24246),r=n(27230);let t=e=>{let{paginationProps:a,isTop:n,isCompact:t=!1,idPrefix:s=""}=e;return(0,l.jsx)(r.t,{id:`${s?`${s}-`:""}pagination-${n?"top":"bottom"}`,variant:n?r.a.top:r.a.bottom,isCompact:t,...a,widgetId:"pagination-id"})}},39826:function(e,a,n){n.d(a,{y:()=>o});var l=n(24246),r=n(10707),t=n(16668),s=n(42160);let o=()=>(0,l.jsx)(r.ub,{status:"danger",headingLevel:"h4",titleText:"Unable to connect",icon:s.ZP,variant:r.IQ.sm,children:(0,l.jsx)(t.B,{children:"There was an error retrieving data. Check your connection and try again."})})},31336:function(e,a,n){n.d(a,{hp:()=>x,qK:()=>f,Cx:()=>g});var l=n(24246),r=n(8305),t=n(13754),s=n(31423),o=n(11165),i=n(94154),d=n(39826),c=n(10707),p=n(16668),u=n(22119);let h=e=>{let{title:a,description:n}=e;return(0,l.jsx)(c.ub,{titleText:a,headingLevel:"h4",icon:u.ZP,variant:c.IQ.sm,children:n&&(0,l.jsx)(p.B,{children:n})})},m=()=>(0,l.jsx)(h,{title:"No data available",description:"No data available to be shown here."}),x=e=>{let{numRenderedColumns:a,isLoading:n=!1,isError:c=!1,isNoData:p=!1,errorEmptyState:u=null,noDataEmptyState:h=null,children:x}=e;return(0,l.jsx)(l.Fragment,{children:n?(0,l.jsx)(s.p,{"aria-label":"Table loading",children:(0,l.jsx)(o.Tr,{children:(0,l.jsx)(i.Td,{colSpan:a,children:(0,l.jsx)(r.b,{children:(0,l.jsx)(t.$,{size:"xl"})})})})}):c?(0,l.jsx)(s.p,{"aria-label":"Table error",children:(0,l.jsx)(o.Tr,{children:(0,l.jsx)(i.Td,{colSpan:a,children:(0,l.jsx)(r.b,{children:u||(0,l.jsx)(d.y,{})})})})}):p?(0,l.jsx)(s.p,{"aria-label":"Table empty",children:(0,l.jsx)(o.Tr,{children:(0,l.jsx)(i.Td,{colSpan:a,children:(0,l.jsx)(r.b,{children:h||(0,l.jsx)(m,{})})})})}):x})};var y=n(89330);let f=e=>{let{numColumnsBeforeData:a,numColumnsAfterData:n,children:r}=e;return(0,l.jsxs)(l.Fragment,{children:[Array(a).fill(null).map((e,a)=>(0,l.jsx)(y.Th,{screenReaderText:`before-data-${a}`},a)),r,Array(n).fill(null).map((e,a)=>(0,l.jsx)(y.Th,{screenReaderText:`after-data-${a}`},a))]})},g=e=>{let{isExpansionEnabled:a=!1,expandableVariant:n,getSelectCheckboxTdProps:r,propHelpers:{getSingleExpandButtonTdProps:t},item:s,rowIndex:o,children:d}=e;return(0,l.jsxs)(l.Fragment,{children:[a&&"single"===n?(0,l.jsx)(i.Td,{...t({item:s,rowIndex:o})}):null,r?(0,l.jsx)(i.Td,{...r({item:s,rowIndex:o})}):null,d]})}},73227:function(e,a,n){n.d(a,{i:()=>i});var l=n(2926),r=n(87017),t=n(50576),s=n(40371),o=n(63706);let i=()=>({downloadAdvisory:(e,a)=>{(0,s.Em)({client:t.L,path:{key:e},responseType:"arraybuffer",headers:{Accept:"text/plain",responseType:"blob"}}).then(n=>{(0,l.saveAs)(new Blob([n.data]),a||`${e}.json`)})},downloadSBOM:(e,a)=>{(0,s.XW)({client:t.L,path:{key:e},responseType:"arraybuffer",headers:{Accept:"text/plain",responseType:"blob"}}).then(n=>{(0,l.saveAs)(new Blob([n.data]),a||`${e}.json`)})},downloadSBOMLicenses:e=>{(0,r.Co)(e).then(a=>{let n=null,r=a.headers?.["content-disposition"]?.toString();r&&(n=(0,o.lj)(r)),(0,l.saveAs)(new Blob([a.data]),n||`${e}.tar.gz`)})}})},95169:function(e,a,n){n.d(a,{V:()=>d});var l=n(27378),r=n(74502),t=n(70233);let s="cancelled",o=()=>({progress:0,status:"queued",error:void 0,response:void 0,wasCancelled:!1,cancelFn:void 0}),i=(e,a)=>{switch(a.type){case"queueUpload":return{...e,uploads:new Map(e.uploads).set(a.payload.file,{...e.uploads.get(a.payload.file)||o(),status:"queued",cancelFn:a.payload.cancelFn})};case"updateUploadProgress":return{...e,uploads:new Map(e.uploads).set(a.payload.file,{...e.uploads.get(a.payload.file)||o(),progress:a.payload.progress||0,status:"inProgress"})};case"finishUploadSuccessfully":return{...e,uploads:new Map(e.uploads).set(a.payload.file,{...e.uploads.get(a.payload.file)||o(),status:"complete",response:a.payload.response})};case"finishUploadWithError":return{...e,uploads:new Map(e.uploads).set(a.payload.file,{...e.uploads.get(a.payload.file)||o(),status:"complete",error:a.payload.error,wasCancelled:a.payload.error?.message===s})};case"removeUpload":{let n=new Map(e.uploads);return n.delete(a.payload.file),{...e,uploads:n}}default:throw Error()}},d=e=>{let{parallel:a,uploadFn:n,onSuccess:o,onError:d}=e,[c,p]=l.useReducer(i,{uploads:new Map});return{uploads:c.uploads,handleUpload:e=>{let l=[];for(let a=0;a<e.length;a++){let n=e[a],i=new FormData;i.set(r.TB,n);let c=t.Z.CancelToken.source(),u={headers:{"X-Requested-With":"XMLHttpRequest"},onUploadProgress:e=>{let a=e.total??1;p({type:"updateUploadProgress",payload:{file:n,progress:Math.round(e.loaded/a*100)}})},cancelToken:c.token};p({type:"queueUpload",payload:{file:n,cancelFn:c}});let h={formData:i,config:u,thenFn:e=>{p({type:"finishUploadSuccessfully",payload:{file:n,response:e}}),o&&o(e,n)},catchFn:e=>{p({type:"finishUploadWithError",payload:{file:n,error:e}}),e.message!==s&&d&&d(e,n)}};l.push(h)}if(a)for(let e of l)n(e.formData,e.config).then(e.thenFn).catch(e.catchFn);else l.reduce(async(e,a)=>(await e,n(a.formData,a.config).then(a.thenFn).catch(a.catchFn)),Promise.resolve())},handleCancelUpload:e=>{c.uploads.get(e)?.cancelFn?.cancel(s)},handleRemoveUpload:e=>{p({type:"removeUpload",payload:{file:e}})}}}}}]);